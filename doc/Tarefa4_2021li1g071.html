<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa4_2021li1g071</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Andr&#233; Castro Alves &lt;a95033@alunos.uminho.pt&gt;;<br />: Nuno Igreja &lt;a97433@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa4_2021li1g071</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 4 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:locatePiece">locatePiece</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a></li><li class="src short"><a href="#v:checkFallPlace">checkFallPlace</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></li><li class="src short"><a href="#v:changePiece2">changePiece2</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</li><li class="src short"><a href="#v:changePiece1">changePiece1</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:biggestMapX">biggestMapX</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int</li><li class="src short"><a href="#v:moveJogador">moveJogador</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:correrMovimentos">correrMovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:locatePiece" class="def">locatePiece</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> <a href="#v:locatePiece" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:locatePiece" title="Tarefa4_2021li1g071">locatePiece</a></code> vai retornar a pe&#231;a que se encontra na posi&#231;&#227;o dada pelo par de coordenadas recebido pela fun&#231;&#227;o</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>locatePiece (0,1) [[Vazio, Bloco], [Caixa, Porta]]
</code></strong>Caixa
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>locatePiece (1,0) [[Vazio, Bloco], [Caixa, Porta]]
</code></strong>Bloco
</pre></div></div><div class="top"><p class="src"><a id="v:checkFallPlace" class="def">checkFallPlace</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> <a href="#v:checkFallPlace" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:checkFallPlace" title="Tarefa4_2021li1g071">checkFallPlace</a></code> em combina&#231;&#227;o com a <code><a href="Tarefa4_2021li1g071.html#v:locatePiece" title="Tarefa4_2021li1g071">locatePiece</a></code> vai retornar a posi&#231;&#227;o final de um buraco para uma queda de um Player/Caixa</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkFallPlace (1,0) [[Bloco, Vazio, Bloco], [Bloco, Bloco, Bloco], [Bloco, Bloco, Bloco], [Bloco, Bloco, Bloco], [Bloco, Bloco, Bloco]]
</code></strong>(1,0)
Caixa
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkFallPlace (1,0) [[Bloco, Vazio, Bloco], [Bloco, Vazio, Bloco], [Bloco, Vazio, Bloco], [Bloco, Vazio, Bloco], [Bloco, Bloco, Bloco]]
</code></strong>(1,3)
</pre></div></div><div class="top"><p class="src"><a id="v:changePiece2" class="def">changePiece2</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] <a href="#v:changePiece2" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:changePiece2" title="Tarefa4_2021li1g071">changePiece2</a></code> vai modificar a pe&#231;a que se encontra na posi&#231;&#227;o pretendida de uma lista de pe&#231;as para a pe&#231;a que nos foi dada</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>changePiece2 [Bloco, Vazio, Bloco] (2,0) Caixa
</code></strong>[Bloco, Vazio, Caixa]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>changePiece2 [Bloco, Vazio, Bloco] (1,1) Caixa
</code></strong>[Bloco, Caixa, Bloco]
</pre></div></div><div class="top"><p class="src"><a id="v:changePiece1" class="def">changePiece1</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:changePiece1" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:changePiece1" title="Tarefa4_2021li1g071">changePiece1</a></code> em combina&#231;&#227;o com a <code><a href="Tarefa4_2021li1g071.html#v:changePiece2" title="Tarefa4_2021li1g071">changePiece2</a></code> vai modificar a pe&#231;a que se encontra na posi&#231;&#227;o pretendida do mapa para a pe&#231;a que nos foi dada</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>changePiece1 [[Bloco, Vazio, Bloco], [Bloco, Bloco, Bloco]] (2,0) Caixa
</code></strong>[[Bloco, Vazio, Caixa], [Bloco, Bloco, Bloco]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>changePiece1 [[Bloco, Vazio, Bloco], [Bloco, Bloco, Bloco]] (1,1) Vazio
</code></strong>[[Bloco, Vazio, Bloco], [Bloco, Vazio, Bloco]]
</pre></div></div><div class="top"><p class="src"><a id="v:biggestMapX" class="def">biggestMapX</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int <a href="#v:biggestMapX" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:biggestMapX" title="Tarefa4_2021li1g071">biggestMapX</a></code> vai devolver o comprimento do mapa</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>biggestMapX [[Bloco, Vazio, Bloco], [Bloco, Bloco, Bloco]]
</code></strong>3
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>biggestMapX [[Bloco, Vazio], [Bloco, Bloco]]
</code></strong>2
</pre></div></div><div class="top"><p class="src"><a id="v:moveJogador" class="def">moveJogador</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:moveJogador" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:moveJogador" title="Tarefa4_2021li1g071">moveJogador</a></code> vai ser a fun&#231;&#227;o mais importante desta Tarefa, sendo que ser&#225; nesta que se executar&#225; os movimentos dos jogadores. Estes 4 movimentos s&#227;o:</p><ul><li>AndarEsquerda - Faz com que o jogador ande uma unidade para a sua esquerda, caso a pe&#231;a &#224; sua esquerda seja ou Vazio ou Porta, onde independente da sua dire&#231;&#227;o 
(Oeste ou Este) ter&#225; sua dire&#231;&#227;o mudada para Oeste. Para al&#233;m disso se o jogador carregar uma caixa, ele apenas ir&#225; se mover se a pe&#231;a uma unidade acima da que se 
encontra &#224; sua esquerda tamb&#233;m for Vazio. Caso exista um buraco no lugar onde o jogador se iria mover, o jogador ir&#225; se mover para o lugar final da queda. Caso 
o jogador se encontre na borda esquerda do mapa, ele n&#227;o consegue se mover mais para a esquerda, logo n&#227;o se movimentar&#225;   </li><li>AndarDireita - Ter&#225; a mesma fun&#231;&#227;o que a AndarEsquerda, por&#233;m de forma espelhada, realizando tudo para a direita do jogador e n&#227;o para a esquerda, mudando tamb&#233;m 
a sua dire&#231;&#227;o para Este. Tamb&#233;m como na AndarEsquerda, caso o jogador se encontre na borda direita do mapa, ele n&#227;o consegue se mover mais para a direita, 
logo n&#227;o se movimentar&#225;   </li><li>Trepar - Caso o jogador receba este movimento, se a pe&#231;a que se encontre a uma unidade dele em rela&#231;&#227;o &#224; sua dire&#231;&#227;o for bloco ou caixa o jogador trepar&#225; essa 
pe&#231;a, ou seja, a localiza&#231;&#227;o do jogador se tornar&#225; a localiza&#231;&#227;o da pe&#231;a em cima do bloco que se encontrava &#224; sua frente na sua dire&#231;&#227;o. Caso o jogador carregue 
uma caixa, teremos de verificar se a pe&#231;a duas posi&#231;&#245;es a cima do bloco em frente ao jogador &#233; tamb&#233;m Vazio     </li><li>InterageCaixa - Neste caso ir&#225; haver duas situa&#231;&#245;es distintas:</li></ul><ol><li>Caso o jogador carregue uma caixa - neste caso o jogador ir&#225; largar a caixa que possui na posi&#231;&#227;o diretamente &#224; sua frente consoante a sua dire&#231;&#227;o, onde 
     esta poder&#225; ser largada tamb&#233;m em cima de um bloco ou caixa se a pe&#231;a que se encontre em frente ao jogador for um desses dois e a que se encontre em cima 
     dela for um Vazio. Caso exista um buraco em frente ao jogador, a caixa ir&#225; para o &#250;ltimo lugar dessa coluna v&#225;lida para a caixa. No final disto se ele 
     conseguir largar a caixa com sucesso o seu par&#226;metro relacionada com carregar a caixa tornar-se-&#225; False</li><li>Caso ele n&#227;o carregue uma - neste caso o jogador ir&#225; tentar carregar uma caixa, logo vai ver se a pe&#231;a em frente a ele &#233; uma caixa, onde se isso for
     verdade, caso a pe&#231;a a cima do jogador e em cima da caixa for Vazio, o par&#226;metro relacionada com carregar a caixa tornar-se-&#225; True e o local onde se encontrava
     a caixa virar&#225; Vazio</li></ol><h2>Fun&#231;&#245;es auxiliares utilizadas:</h2><ul><li><code><a href="Tarefa4_2021li1g071.html#v:locatePiece" title="Tarefa4_2021li1g071">locatePiece</a></code></li><li><code><a href="Tarefa4_2021li1g071.html#v:checkFallPlace" title="Tarefa4_2021li1g071">checkFallPlace</a></code></li><li><code><a href="Tarefa4_2021li1g071.html#v:biggestMapX" title="Tarefa4_2021li1g071">biggestMapX</a></code></li><li><code><a href="Tarefa4_2021li1g071.html#v:changePiece1" title="Tarefa4_2021li1g071">changePiece1</a></code></li></ul><h2>Notas:</h2><p>Ao criar as implementa&#231;&#244;es relacionadas com caixas, inicialmene assumi que quando um jogador carrega-se uma caixa, essa era carregada no topo dele, ou seja o bloco 
acima do jogador seria sempre uma caixa, logo quando este se move-se a caixa que estaria supostamente no topo dele se moveria junto, por&#233;m ao correr os testes 
disponibilizados pelos professores deparei-me que quando um jogador carregava uma caixa esta n&#227;o era colocada no mapa em cima do jogador, mas sim eliminada do mapa, 
ou seja, quando um jogador que n&#227;o carrega-se uma caixa interagi-se com uma, o lugar dela seria trocado por vazio e o par&#226;metro do jogador que indica se carrega 
uma caixa torna-se True, e o contr&#225;rio tamb&#233;m acontece, quando um jogador que carrega uma caixa tenta descarrega-la, apenas ir&#225; trocar a pe&#231;a suposta por Caixa e 
o par&#226;metro do jogador muda por False   </p></div></div><div class="top"><p class="src"><a id="v:correrMovimentos" class="def">correrMovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:correrMovimentos" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g071.html#v:correrMovimentos" title="Tarefa4_2021li1g071">correrMovimentos</a></code> em combina&#231;&#227;o com a <code><a href="Tarefa4_2021li1g071.html#v:moveJogador" title="Tarefa4_2021li1g071">moveJogador</a></code> vai correr uma lista de movimentos sobre um jogo</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>